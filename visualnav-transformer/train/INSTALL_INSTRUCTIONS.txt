================================================================================
                    MAMBAä¾èµ–å®‰è£…å¿«é€ŸæŒ‡å—
================================================================================

ğŸ“‹ ç›®æ ‡: åœ¨ç°æœ‰çš„ nomad_train ç¯å¢ƒä¸­æ·»åŠ  MTIL æ‰€éœ€çš„ Mamba ç›¸å…³æ¨¡å—

================================================================================
                        å®‰è£…æ­¥éª¤
================================================================================

æ­¥éª¤1ï¸âƒ£: æ¿€æ´»ç¯å¢ƒ
-----------------
conda activate nomad_train


æ­¥éª¤2ï¸âƒ£: è¿›å…¥ç›®å½•
-----------------
cd /home/czl/Navigation/visualnav-transformer/train


æ­¥éª¤3ï¸âƒ£: æ‰§è¡Œå®‰è£…è„šæœ¬
--------------------
chmod +x install_mamba_deps.sh
bash install_mamba_deps.sh

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œ:
âœ“ æ£€æŸ¥å½“å‰ç¯å¢ƒ
âœ“ å®‰è£… causal-conv1d
âœ“ å®‰è£… mamba-ssm
âœ“ å®‰è£… einops, pytorch-lightning, huggingface_hub
âœ“ éªŒè¯æ‰€æœ‰å®‰è£…
âœ“ ç»™å‡ºä¸‹ä¸€æ­¥å»ºè®®


æ­¥éª¤4ï¸âƒ£: éªŒè¯å®‰è£…
-----------------
python test_mamba_env.py

å¦‚æœçœ‹åˆ° "âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡", åˆ™ç¯å¢ƒé…ç½®æˆåŠŸ!


================================================================================
                      æ‰‹åŠ¨å®‰è£… (å¤‡é€‰æ–¹æ¡ˆ)
================================================================================

å¦‚æœè‡ªåŠ¨è„šæœ¬å¤±è´¥,å¯æ‰‹åŠ¨æ‰§è¡Œ:

# 1. å®‰è£…æ ¸å¿ƒä¾èµ–
pip install causal-conv1d --no-build-isolation
pip install mamba-ssm --no-build-isolation

# 2. å®‰è£…è¾…åŠ©åº“
pip install einops pytorch-lightning huggingface_hub

# 3. éªŒè¯
python -c "import mamba_ssm; import causal_conv1d; print('æˆåŠŸ')"


================================================================================
                      éœ€è¦å®‰è£…çš„ä¾èµ–æ¸…å•
================================================================================

ã€æ ¸å¿ƒä¾èµ–ã€‘
-----------
âœ“ mamba-ssm         - MambaçŠ¶æ€ç©ºé—´æ¨¡å‹
âœ“ causal-conv1d     - å› æœå·ç§¯ (Mambaä¾èµ–)
âœ“ einops            - å¼ é‡é‡æ’æ“ä½œ
âœ“ pytorch-lightning - è®­ç»ƒæ¡†æ¶
âœ“ huggingface_hub   - æ¨¡å‹Hubå·¥å…·

ã€å¯é€‰ä¾èµ–ã€‘
-----------
â—‹ mujoco==2.3.7     - ä»¿çœŸç¯å¢ƒ (ä»…æµ‹è¯•MTILå®Œæ•´åŠŸèƒ½éœ€è¦)
â—‹ dm_control        - æ§åˆ¶åº“ (é…åˆMuJoCo)


================================================================================
                        å·²æœ‰ä¾èµ– (æ— éœ€å®‰è£…)
================================================================================

âœ“ torch                 - PyTorchæ ¸å¿ƒ
âœ“ torchvision          - è§†è§‰åº“
âœ“ numpy                - æ•°å€¼è®¡ç®—
âœ“ matplotlib           - å¯è§†åŒ–
âœ“ opencv-python        - å›¾åƒå¤„ç†
âœ“ h5py                 - æ•°æ®å­˜å‚¨
âœ“ wandb                - å®éªŒè·Ÿè¸ª
âœ“ efficientnet-pytorch - è§†è§‰ç¼–ç å™¨
âœ“ diffusers            - Diffusionæ¨¡å‹
âœ“ tqdm                 - è¿›åº¦æ¡


================================================================================
                          æ–‡ä»¶è¯´æ˜
================================================================================

install_mamba_deps.sh       - è‡ªåŠ¨å®‰è£…è„šæœ¬ (æ¨èä½¿ç”¨)
test_mamba_env.py           - ç¯å¢ƒéªŒè¯è„šæœ¬
MAMBA_INTEGRATION_DEPS.txt  - è¯¦ç»†ä¾èµ–è¯´æ˜æ–‡æ¡£
INSTALL_INSTRUCTIONS.txt    - æœ¬æ–‡ä»¶ (å¿«é€ŸæŒ‡å—)
train_environment.yml       - ç¯å¢ƒé…ç½® (å·²ä¿®æ­£cudatoolkitç‰ˆæœ¬)


================================================================================
                        å¸¸è§é—®é¢˜
================================================================================

Q1: mamba-ssm å®‰è£…æ—¶ç¼–è¯‘å¤±è´¥?
A1: ç¡®ä¿å®‰è£…äº†gccå’ŒCUDA toolkit
    - æ£€æŸ¥: gcc --version (éœ€è¦>=7.0)
    - æ£€æŸ¥: nvcc --version
    - å°è¯•: pip install mamba-ssm (ä¸åŠ  --no-build-isolation)

Q2: æç¤º "no kernel image available"?
A2: CUDAç‰ˆæœ¬ä¸åŒ¹é…,é‡è£…PyTorch:
    pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118

Q3: ç½‘ç»œä¸‹è½½æ…¢æˆ–è¶…æ—¶?
A3: é…ç½®å›½å†…é•œåƒæº:
    pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
    pip config set global.timeout 300

Q4: å¯¼å…¥tritonç›¸å…³æ¨¡å—å¤±è´¥?
A4: è¿™æ˜¯æ­£å¸¸çš„,mambaä¼šè‡ªåŠ¨å›é€€,ä¸å½±å“åŠŸèƒ½

Q5: éœ€è¦é‡æ–°åˆ›å»ºç¯å¢ƒå—?
A5: ä¸éœ€è¦! ç›´æ¥åœ¨ç°æœ‰nomad_trainç¯å¢ƒä¸­æ·»åŠ ä¾èµ–å³å¯


================================================================================
                        ä¸‹ä¸€æ­¥å·¥ä½œ
================================================================================

å®‰è£…å®Œæˆå,å¯ä»¥å¼€å§‹:

1. ğŸ“ æŸ¥çœ‹MTILä»£ç ç»“æ„
   cd /home/czl/Navigation/MTIL/train
   ls -la mamba_policy.py

2. ğŸ”§ å‡†å¤‡é›†æˆMambaåˆ°ViNT
   - å¤åˆ¶Mamba2ç±»å®šä¹‰
   - ä¿®æ”¹ViNT decoderéƒ¨åˆ†
   - æ·»åŠ éšè—çŠ¶æ€ç®¡ç†

3. âœ… æµ‹è¯•åŸºç¡€åŠŸèƒ½
   - å•ç‹¬æµ‹è¯•Mamba2æ¨¡å—
   - æµ‹è¯•ä¸ViNTçš„å…¼å®¹æ€§
   - éªŒè¯å‰å‘ä¼ æ’­

è¯¦ç»†é›†æˆæ–¹æ¡ˆè¯·å‚è€ƒä¹‹å‰çš„å¯è¡Œæ€§åˆ†ææŠ¥å‘Šã€‚


================================================================================
                        æ”¯æŒä¸å¸®åŠ©
================================================================================

å¦‚é‡åˆ°é—®é¢˜:
1. æŸ¥çœ‹ MAMBA_INTEGRATION_DEPS.txt çš„è¯¦ç»†è¯´æ˜
2. æ£€æŸ¥ test_mamba_env.py çš„æµ‹è¯•è¾“å‡º
3. å‚è€ƒ Mambaå®˜æ–¹: https://github.com/state-spaces/mamba

ç¥å®‰è£…é¡ºåˆ©! ğŸ‰
================================================================================
